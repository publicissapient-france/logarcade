<!DOCTYPE html>
<html>
<head>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.0.0/dist/phaser.min.js"></script>
    <title>LogArcade</title>
</head>
<body>

<script>

    const logos = [
        {name: 'Angular', file: 'angular.png'},
        {name: 'EmberJS', file: 'ember.png'},
        {name: 'React', file: 'react.png'},
        {name: 'VueJS', file: 'vue.png'},
    ];

    var config = {
        type: Phaser.AUTO,
        width: 800,
        height: 600,
        scene: {
            preload: preload,
            create: create,
            update: update,
        }
    };

    var game = new Phaser.Game(config);
    var cursors;
    var font;
    var logo;
    var A1, B1, C1, D1, P1;
    var text1, text2, text3, text4;

    function preload() {
        logos.forEach(l => this.load.image(l.name, `assets/logos/${l.file}`));
        cursors = this.input.keyboard.createCursorKeys();
        A1 = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A);
        B1 = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.Z);
        C1 = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.E);
        D1 = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.T);
        P1 = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE);

        this.load.audio('theme', [
            'assets/audio/Retroj채b채_-_Retroj채b채_-_sbrp_tutorial_remix.mp3'
        ]);

    }

    function create() {
        logo = this.add.image(400, 300, 'Angular');
        text1 = this.add.text(100, 500, 'Angular');
        text2 = this.add.text(200, 500, 'VueJS');
        text3 = this.add.text(300, 500, 'React');
        text4 = this.add.text(400, 500, 'EmberJS');

        var music = this.sound.add('theme');
        music.play();
    }

    function onKeyDown(text) {
        text.setTint(0xff00ff, 0xffff00, 0x0000ff, 0xff0000);
        text.setFontSize(32);
        setTimeout(() => {
            text.clearTint();
            text.setFontSize(16);
        }, 150);
    }


    function update() {

        if (Phaser.Input.Keyboard.JustDown(A1)) {
            onKeyDown(text1);
        }
        if (Phaser.Input.Keyboard.JustDown(B1)) {
            onKeyDown(text2);
        }
        if (Phaser.Input.Keyboard.JustDown(C1)) {
            onKeyDown(text3);
        }
        if (Phaser.Input.Keyboard.JustDown(D1)) {
            onKeyDown(text4);
        }
        if (Phaser.Input.Keyboard.JustDown(P1)) {
            console.log('P1');
        }

    }
</script>

</body>
</html>